<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoEletro - Descarte Correto de Lixo Eletr√¥nico</title>
    <style>
        /* Adicionei este estilo para o bot√£o de voltar √† p√°gina inicial */
        .top-home-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background-color: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .top-home-button:hover {
            background-color: #0b7dda;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            color: #333;
        }
        
        #landing-page {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .game-container {
            position: relative;
            width: 800px;
            height: 500px;
            margin: 20px auto;
            border: 3px solid #4CAF50;
            border-radius: 10px;
            overflow: hidden;
            background-color: #e8f5e9;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        #game-canvas {
            background-color: #e8f5e9;
            transition: all 0.3s ease;
        }
        
        #phase2-container {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            z-index: 10;
            padding: 20px;
            box-sizing: border-box;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .sorting-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 20px;
        }
        
        .bin {
            width: 150px;
            height: 150px;
            border: 2px dashed #4CAF50;
            border-radius: 10px;
            margin: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f1f8e9;
            transition: all 0.3s ease;
        }
        
        .bin:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .bin.highlight {
            background-color: #d4edda;
            border-color: #155724;
        }
        
        .bin-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #155724;
        }
        
        .item {
            width: 50px;
            height: 50px;
            margin: 5px;
            cursor: grab;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .item:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .item::after {
            content: attr(data-type);
            position: absolute;
            bottom: -15px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 9px;
            color: #333;
            opacity: 0;
            transition: all 0.2s ease;
        }
        
        .item:hover::after {
            bottom: -20px;
            opacity: 1;
        }
        
        .items-to-sort {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
            min-height: 100px;
            border: 2px solid #4CAF50;
            border-radius: 10px;
            padding: 10px;
            background-color: #f1f8e9;
            transition: all 0.3s ease;
        }
        
        #end-message {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #4CAF50;
            color: white;
            border-radius: 10px;
            font-size: 1.2em;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        button:hover {
            background-color: #388E3C;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .controls {
            margin: 20px 0;
            font-size: 0.9em;
            color: #666;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        footer {
            margin-top: 30px;
            padding: 20px;
            background-color: #4CAF50;
            color: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 -4px 8px rgba(0,0,0,0.1);
        }
        
        .score-display {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 5;
        }
        
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 20;
        }
        
        .back-button {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 15;
            background-color: #f44336;
        }
        
        .back-button:hover {
            background-color: #d32f2f;
        }
        
        .home-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 15;
            background-color: #2196F3;
        }
        
        .home-button:hover {
            background-color: #0b7dda;
        }
        
        @media (max-width: 850px) {
            .game-container {
                width: 95%;
                height: 400px;
            }
            
            .bin {
                width: 120px;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- Bot√£o adicionado aqui, fora do container do jogo -->
    <button class="top-home-button" onclick="window.location.href='index.html'">Voltar √† P√°gina Inicial</button>
    
    <div id="landing-page">
        <header>
            <h1>EcoEletro</h1>
            <p>Jogo educativo sobre o descarte correto de lixo eletr√¥nico</p>
        </header>
        
        <div class="game-container">
            <div class="score-display" id="score">Itens coletados: 0</div>
            <canvas id="game-canvas"></canvas>
            
            <div id="phase2-container">
                <h2>Separe os itens coletados</h2>
                <p>Arraste cada item para a caixa correta</p>
                
                <div class="items-to-sort" id="items-container"></div>
                
                <div class="sorting-area">
                    <div class="bin" id="Bateria-bin">
                        <div class="bin-title">Pilhas</div>
                    </div>
                    <div class="bin" id="Cabo-bin">
                        <div class="bin-title">Cabos</div>
                    </div>
                    <div class="bin" id="Placa-bin">
                        <div class="bin-title">Placas</div>
                    </div>
                    <div class="bin" id="Celular-bin">
                        <div class="bin-title">Celulares</div>
                    </div>
                    <div class="bin" id="Carregador-bin">
                        <div class="bin-title">Carregadores</div>
                    </div>
                </div>
                
                <div id="end-message">
                    Voc√™ concluiu a miss√£o! O descarte correto do lixo eletr√¥nico ajuda a preservar o meio ambiente. Fa√ßa sua parte!
                </div>
            </div>
        </div>
        
        <div class="controls">
            <p>Use as teclas WASD ou setas do teclado para mover o personagem</p>
            <p>Colete todos os itens de lixo eletr√¥nico e leve-os ao centro de coleta</p>
        </div>
        
        <footer>
            <p>Jogo educativo desenvolvido para conscientiza√ß√£o sobre o descarte correto de lixo eletr√¥nico</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Efeitos sonoros
            const sounds = {
                collect: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3'),
                drop: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-positive-interface-beep-221.mp3'),
                success: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3'),
                error: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3')
            };
            
            // Configura√ß√µes do jogo
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = document.querySelector('.game-container').clientWidth;
            canvas.height = document.querySelector('.game-container').clientHeight;
            
            // Fase 1 - Caminho e Coleta
            const player = {
                x: 50,
                y: canvas.height / 2,
                width: 40,
                height: 60,
                speed: 5,
                color: '#3498db',
                direction: 'right',
                isMoving: false
            };
            
            const collectedItems = [];
            let score = 0;
            const scoreDisplay = document.getElementById('score');
            
            // Itens de lixo eletr√¥nico com √≠cones
            const items = [
                { type: 'Bateria', x: 200, y: 100, width: 30, height: 30, color: '#e74c3c', collected: false, emoji: 'üîã' },
                { type: 'Cabo', x: 350, y: 300, width: 40, height: 10, color: '#95a5a6', collected: false, emoji: 'üîå' },
                { type: 'Placa', x: 500, y: 150, width: 35, height: 35, color: '#f39c12', collected: false, emoji: 'üíª' },
                { type: 'Celular', x: 250, y: 400, width: 25, height: 40, color: '#9b59b6', collected: false, emoji: 'üì±' },
                { type: 'Carregador', x: 400, y: 200, width: 20, height: 30, color: '#34495e', collected: false, emoji: '‚ö°' },
                { type: 'Bateria', x: 600, y: 350, width: 30, height: 30, color: '#e74c3c', collected: false, emoji: 'üîã' },
                { type: 'Cabo', x: 700, y: 100, width: 40, height: 10, color: '#95a5a6', collected: false, emoji: 'üîå' }
            ];
            
            // Centro de coleta
            const collectionCenter = {
                x: canvas.width - 100,
                y: canvas.height / 2 - 50,
                width: 80,
                height: 100,
                color: '#2ecc71'
            };
            
            // Controles do jogador
            const keys = {
                ArrowUp: false,
                ArrowDown: false,
                ArrowLeft: false,
                ArrowRight: false,
                w: false,
                a: false,
                s: false,
                d: false
            };
            
            // Criar bot√£o Home
            const homeButton = document.createElement('button');
            homeButton.textContent = 'P√°gina Inicial';
            homeButton.className = 'home-button';
            homeButton.addEventListener('click', function() {
                window.location.reload(); // Recarrega a p√°gina para voltar ao in√≠cio
            });
            document.querySelector('.game-container').appendChild(homeButton);
            
            // Event listeners para controles
            document.addEventListener('keydown', (e) => {
                if (keys.hasOwnProperty(e.key)) {
                    keys[e.key] = true;
                    player.isMoving = true;
                }
            });
            
            document.addEventListener('keyup', (e) => {
                if (keys.hasOwnProperty(e.key)) {
                    keys[e.key] = false;
                    player.isMoving = false;
                }
            });
            
            // Fun√ß√£o para verificar colis√£o
            function checkCollision(rect1, rect2) {
                return (
                    rect1.x < rect2.x + rect2.width &&
                    rect1.x + rect1.width > rect2.x &&
                    rect1.y < rect2.y + rect2.height &&
                    rect1.y + rect1.height > rect2.y
                );
            }
            
            // Fun√ß√£o para desenhar o jogador
            function drawPlayer() {
                // Corpo
                ctx.fillStyle = player.color;
                ctx.beginPath();
                ctx.roundRect(player.x, player.y, player.width, player.height, 10);
                ctx.fill();
                
                // Cabe√ßa
                ctx.fillStyle = '#f1c40f';
                ctx.beginPath();
                ctx.arc(player.x + player.width/2, player.y - 10, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Olhos
                ctx.fillStyle = '#000';
                ctx.beginPath();
                const eyeOffset = player.isMoving ? Math.sin(Date.now() / 100) * 2 : 0;
                ctx.arc(player.x + player.width/2 - 5 + eyeOffset, player.y - 15, 3, 0, Math.PI * 2);
                ctx.arc(player.x + player.width/2 + 5 + eyeOffset, player.y - 15, 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Sorriso
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(player.x + player.width/2, player.y - 10, 8, 0.1 * Math.PI, 0.9 * Math.PI);
                ctx.stroke();
            }
            
            // Fun√ß√£o para desenhar os itens
            function drawItems() {
                items.forEach(item => {
                    if (!item.collected) {
                        ctx.fillStyle = item.color;
                        ctx.beginPath();
                        
                        if (item.type === 'Cabo') {
                            ctx.roundRect(item.x, item.y, item.width, item.height, 5);
                        } else {
                            ctx.roundRect(item.x, item.y, item.width, item.height, 8);
                        }
                        
                        ctx.fill();
                        
                        // Adicionar emoji e texto
                        ctx.font = '20px Arial';
                        ctx.fillStyle = '#fff';
                        ctx.textAlign = 'center';
                        ctx.fillText(item.emoji, item.x + item.width/2, item.y + item.height/2 + 8);
                        
                        ctx.font = '10px Arial';
                        ctx.fillStyle = '#000';
                        ctx.fillText(item.type, item.x + item.width/2, item.y - 5);
                    }
                });
            }
            
            // Fun√ß√£o para desenhar o centro de coleta
            function drawCollectionCenter() {
                // Edif√≠cio
                ctx.fillStyle = collectionCenter.color;
                ctx.beginPath();
                ctx.roundRect(collectionCenter.x, collectionCenter.y, collectionCenter.width, collectionCenter.height, 10);
                ctx.fill();
                
                // Porta
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(collectionCenter.x + 25, collectionCenter.y + 50, 30, 50);
                
                // Janelas
                ctx.fillStyle = '#add8e6';
                ctx.fillRect(collectionCenter.x + 10, collectionCenter.y + 20, 15, 15);
                ctx.fillRect(collectionCenter.x + 55, collectionCenter.y + 20, 15, 15);
                
                // Placa
                ctx.fillStyle = '#fff';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Centro de', collectionCenter.x + collectionCenter.width/2, collectionCenter.y + 20);
                ctx.fillText('Reciclagem', collectionCenter.x + collectionCenter.width/2, collectionCenter.y + 35);
            }
            
            // Criar part√≠culas de efeito
            function createParticles(x, y, color, count = 10) {
                for (let i = 0; i < count; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.backgroundColor = color;
                    particle.style.left = `${x}px`;
                    particle.style.top = `${y}px`;
                    document.querySelector('.game-container').appendChild(particle);
                    
                    const angle = Math.random() * Math.PI * 2;
                    const speed = 2 + Math.random() * 3;
                    const size = 5 + Math.random() * 5;
                    
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    
                    let life = 50 + Math.random() * 50;
                    
                    const animate = () => {
                        life--;
                        if (life <= 0) {
                            particle.remove();
                            return;
                        }
                        
                        x += Math.cos(angle) * speed;
                        y += Math.sin(angle) * speed;
                        
                        particle.style.left = `${x}px`;
                        particle.style.top = `${y}px`;
                        particle.style.opacity = life / 100;
                        
                        requestAnimationFrame(animate);
                    };
                    
                    animate();
                }
            }
            
            // Fun√ß√£o para atualizar a posi√ß√£o do jogador
            function updatePlayerPosition() {
                if ((keys.ArrowUp || keys.w) && player.y > 0) {
                    player.y -= player.speed;
                    player.direction = 'up';
                }
                if ((keys.ArrowDown || keys.s) && player.y < canvas.height - player.height) {
                    player.y += player.speed;
                    player.direction = 'down';
                }
                if ((keys.ArrowLeft || keys.a) && player.x > 0) {
                    player.x -= player.speed;
                    player.direction = 'left';
                }
                if ((keys.ArrowRight || keys.d) && player.x < canvas.width - player.width) {
                    player.x += player.speed;
                    player.direction = 'right';
                }
                
                // Verificar colis√£o com itens
                items.forEach(item => {
                    if (!item.collected && checkCollision(player, item)) {
                        item.collected = true;
                        collectedItems.push(item.type);
                        score++;
                        scoreDisplay.textContent = `Itens coletados: ${score}`;
                        
                        // Efeito de part√≠culas
                        createParticles(
                            item.x + item.width/2,
                            item.y + item.height/2,
                            item.color
                        );
                        
                        // Som de coleta
                        sounds.collect.currentTime = 0;
                        sounds.collect.play();
                    }
                });
                
                // Verificar se chegou no centro de coleta
                if (checkCollision(player, collectionCenter)) {
                    showEnterButton();
                } else {
                    hideEnterButton();
                }
            }
            
            // Bot√£o "Entrar"
            const enterButton = document.createElement('button');
            enterButton.textContent = 'Entrar no Centro de Reciclagem';
            enterButton.style.position = 'absolute';
            enterButton.style.top = '10px';
            enterButton.style.left = '50%';
            enterButton.style.transform = 'translateX(-50%)';
            enterButton.style.zIndex = '5';
            enterButton.style.display = 'none';
            document.querySelector('.game-container').appendChild(enterButton);
            
            function showEnterButton() {
                enterButton.style.display = 'block';
            }
            
            function hideEnterButton() {
                enterButton.style.display = 'none';
            }
            
            // Iniciar fase 2
            function startPhase2() {
                sounds.success.currentTime = 0;
                sounds.success.play();
                
                document.getElementById('game-canvas').style.display = 'none';
                document.getElementById('phase2-container').style.display = 'block';
                
                // Criar bot√£o Voltar
                const backButton = document.createElement('button');
                backButton.textContent = 'Voltar para o Jogo';
                backButton.className = 'back-button';
                backButton.addEventListener('click', function() {
                    // Esconder fase 2
                    document.getElementById('phase2-container').style.display = 'none';
                    // Mostrar canvas do jogo
                    document.getElementById('game-canvas').style.display = 'block';
                    // Remover o bot√£o Voltar
                    backButton.remove();
                });
                
                document.querySelector('.game-container').appendChild(backButton);
                
                // Adicionar itens coletados para classifica√ß√£o
                const itemsContainer = document.getElementById('items-container');
                itemsContainer.innerHTML = '';
                
                collectedItems.forEach((itemType, index) => {
                    const item = document.createElement('div');
                    item.className = 'item';
                    item.id = `item-${index}`;
                    item.setAttribute('data-type', itemType);
                    item.setAttribute('draggable', 'true');
                    item.textContent = getItemEmoji(itemType);
                    item.style.backgroundColor = getItemColor(itemType);
                    
                    // Adicionar texto do tipo como atributo
                    item.setAttribute('data-type-name', itemType);
                    
                    itemsContainer.appendChild(item);
                    
                    // Configurar arrastar e soltar
                    item.addEventListener('dragstart', dragStart);
                });
                
                // Configurar √°reas de soltar
                const bins = document.querySelectorAll('.bin');
                bins.forEach(bin => {
                    bin.addEventListener('dragover', dragOver);
                    bin.addEventListener('dragenter', dragEnter);
                    bin.addEventListener('dragleave', dragLeave);
                    bin.addEventListener('drop', drop);
                });
            }
            
            function getItemColor(itemType) {
                switch(itemType) {
                    case 'Bateria': return '#e74c3c';
                    case 'Cabo': return '#95a5a6';
                    case 'Placa': return '#f39c12';
                    case 'Celular': return '#9b59b6';
                    case 'Carregador': return '#34495e';
                    default: return '#000';
                }
            }
            
            function getItemEmoji(itemType) {
                switch(itemType) {
                    case 'Bateria': return 'üîã';
                    case 'Cabo': return 'üîå';
                    case 'Placa': return 'üíª';
                    case 'Celular': return 'üì±';
                    case 'Carregador': return '‚ö°';
                    default: return '‚ùì';
                }
            }
            
            // Fun√ß√µes para arrastar e soltar
            let draggedItem = null;
            
            function dragStart(e) {
                draggedItem = e.target;
                e.dataTransfer.setData('text/plain', e.target.id);
                e.target.style.opacity = '0.5';
                
                // Criar elemento fantasma para arrastar
                const ghost = e.target.cloneNode(true);
                ghost.id = 'ghost';
                ghost.style.position = 'absolute';
                ghost.style.opacity = '0.8';
                ghost.style.pointerEvents = 'none';
                ghost.style.zIndex = '1000';
                document.body.appendChild(ghost);
                
                e.dataTransfer.setDragImage(ghost, 25, 25);
                
                setTimeout(() => {
                    document.body.removeChild(ghost);
                }, 0);
            }
            
            function dragEnter(e) {
                e.preventDefault();
                if (e.target.classList.contains('bin')) {
                    e.target.classList.add('highlight');
                }
            }
            
            function dragLeave(e) {
                if (e.target.classList.contains('bin')) {
                    e.target.classList.remove('highlight');
                }
            }
            
            function dragOver(e) {
                e.preventDefault();
            }
            
            function drop(e) {
                e.preventDefault();
                if (e.target.classList.contains('bin')) {
                    e.target.classList.remove('highlight');
                    
                    const id = e.dataTransfer.getData('text/plain');
                    const droppedItem = document.getElementById(id);
                    const itemType = droppedItem.getAttribute('data-type');
                    const binType = e.target.id.replace('-bin', '');
                    
                    // Verificar se o item est√° sendo colocado na caixa correta
                    if (itemType === binType) {
                        e.target.appendChild(droppedItem);
                        droppedItem.style.cursor = 'default';
                        droppedItem.setAttribute('draggable', 'false');
                        droppedItem.style.opacity = '1';
                        droppedItem.style.transform = 'scale(1.2)';
                        
                        // Efeito visual
                        createParticles(
                            e.clientX - e.target.getBoundingClientRect().left,
                            e.clientY - e.target.getBoundingClientRect().top,
                            getItemColor(itemType),
                            15
                        );
                        
                        // Som de sucesso
                        sounds.drop.currentTime = 0;
                        sounds.drop.play();
                        
                        // Verificar se todos os itens foram classificados
                        checkAllItemsSorted();
                    } else {
                        // Som de erro
                        sounds.error.currentTime = 0;
                        sounds.error.play();
                        
                        // Efeito de erro
                        droppedItem.style.animation = 'shake 0.5s';
                        setTimeout(() => {
                            droppedItem.style.animation = '';
                        }, 500);
                    }
                }
                
                draggedItem = null;
            }
            
            function checkAllItemsSorted() {
                const itemsToSort = document.getElementById('items-container').children;
                let allSorted = true;
                
                for (let i = 0; i < itemsToSort.length; i++) {
                    if (itemsToSort[i].parentElement.id === 'items-container') {
                        allSorted = false;
                        break;
                    }
                }
                
                if (allSorted) {
                    document.getElementById('end-message').style.display = 'block';
                    sounds.success.currentTime = 0;
                    sounds.success.play();
                    
                    // Efeito de confete
                    for (let i = 0; i < 50; i++) {
                        setTimeout(() => {
                            createParticles(
                                Math.random() * canvas.width,
                                Math.random() * canvas.height / 2,
                                `hsl(${Math.random() * 360}, 100%, 50%)`,
                                1
                            );
                        }, i * 50);
                    }
                }
            }
            
            // Adicionar anima√ß√£o de shake
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                    20%, 40%, 60%, 80% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
            
            // Desenhar cen√°rio
            function drawBackground() {
                // Grama
                ctx.fillStyle = '#81C784';
                ctx.fillRect(0, canvas.height - 50, canvas.width, 50);
                
                // C√©u
                const skyGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                skyGradient.addColorStop(0, '#87CEEB');
                skyGradient.addColorStop(1, '#E0F7FA');
                ctx.fillStyle = skyGradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height - 50);
                
                // Nuvens
                ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                drawCloud(100, 50, 30, 20);
                drawCloud(300, 80, 40, 25);
                drawCloud(500, 60, 35, 22);
            }
            
            function drawCloud(x, y, width, height) {
                ctx.beginPath();
                ctx.arc(x, y, height, 0, Math.PI * 2);
                ctx.arc(x + width * 0.3, y - height * 0.2, height * 0.8, 0, Math.PI * 2);
                ctx.arc(x + width * 0.6, y, height * 0.9, 0, Math.PI * 2);
                ctx.arc(x + width * 0.9, y - height * 0.1, height * 0.7, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Loop principal do jogo
            function gameLoop() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                drawBackground();
                drawCollectionCenter();
                drawItems();
                drawPlayer();
                updatePlayerPosition();
                
                requestAnimationFrame(gameLoop);
            }
            
            // Iniciar o jogo
            gameLoop();
            
            // Redimensionar canvas quando a janela for redimensionada
            window.addEventListener('resize', function() {
                canvas.width = document.querySelector('.game-container').clientWidth;
                canvas.height = document.querySelector('.game-container').clientHeight;
                
                // Ajustar posi√ß√µes para o novo tamanho
                collectionCenter.x = canvas.width - 100;
                collectionCenter.y = canvas.height / 2 - 50;
            });
            
            // Configurar o bot√£o Entrar
            enterButton.addEventListener('click', startPhase2);
        });
    </script>
</body>
</html>